"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[675],{66175:function(J,m,t){t.r(m),t.d(m,{default:function(){return $}});var Z=t(90228),o=t.n(Z),x=t(87999),f=t.n(x),E=t(48305),g=t.n(E),v=t(82324),C=t(14046),P=t(34791),B=t(57918),c=t(92988),Y=t(35596),A=t(52812),F=t(85237),d=F.Z.create({baseURL:"/api"});function K(s){return d.get("/getInfo",{params:s})}function D(s){return d.get("/list",{params:s})}function N(){return d.get("/getStockList")}function T(){return d.get("/temp")}function G(){return d.get("/init")}function Q(s){return axios.get("https://stockapi.1168168.xyz/api/data",{params:s})}var h=t(75271),M=t(16483),y=t.n(M),r=t(52676);function $(){var s,H=(0,h.useState)([]),p=g()(H,2),j=p[0],O=p[1],R=(0,h.useState)(!1),L=g()(R,2),w=L[0],S=L[1],z=[{title:"\u80A1\u7968",dataIndex:"name",width:100},{title:"\u6210\u4EA4\u989D\uFF08\u4EBF\uFF09",dataIndex:"todayAmount",align:"right",sorter:function(n,i){return n.todayAmount-i.todayAmount},defaultSortOrder:"descend",render:function(n){return(0,r.jsx)("span",{style:{color:"red"},children:n})},width:140},{title:"\u6628\u65E5\u6210\u4EA4\u989D\uFF08\u4EBF\uFF09",align:"right",dataIndex:"yesterdayAmount",width:180},{title:"\u6DA8\u5E45",dataIndex:"amountIncrease",sorter:function(n,i){return n.amountIncrease-i.amountIncrease},render:function(n){return(0,r.jsx)("span",{style:{color:"red"},children:n})},width:80},{title:"\u8BB0\u5F55\u65F6\u95F4",dataIndex:"time",render:function(n){return y()(n).format("YYYY/MM/DD HH:mm")}}],I=function(){var a=f()(o()().mark(function n(){var i,u,e=arguments;return o()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=e.length>0&&e[0]!==void 0?e[0]:0,S(!0),l.prev=2,l.next=5,D({isOnline:i});case 5:u=l.sent,console.log(u),O(u.data);case 8:return l.prev=8,S(!1),l.finish(8);case 11:case"end":return l.stop()}},n,null,[[2,,8,11]])}));return function(){return a.apply(this,arguments)}}(),k=function(){var a=f()(o()().mark(function n(){var i;return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T();case 3:i=e.sent,v.ZP.success("\u64CD\u4F5C\u6210\u529F"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v.ZP.error("\u8BB0\u5F55\u65E5\u5FD7\u5931\u8D25");case 10:case"end":return e.stop()}},n,null,[[0,7]])}));return function(){return a.apply(this,arguments)}}(),U=function(){var a=f()(o()().mark(function n(){return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,G();case 2:v.ZP.success("\u64CD\u4F5C\u6210\u529F");case 3:case"end":return u.stop()}},n)}));return function(){return a.apply(this,arguments)}}();return(0,r.jsxs)(C.Z,{style:{width:"100%"},title:"\u91CF\u5316\u5B9E\u65F6",extra:(0,r.jsx)(P.Z,{title:"\u4EA4\u6613\u65E5",value:y()((s=j[0])===null||s===void 0?void 0:s.date).format("YYYY/MM/DD")}),children:[(0,r.jsx)("div",{style:{marginBottom:16},children:(0,r.jsxs)(B.Z,{align:"center",style:{width:"100%"},children:[(0,r.jsx)(c.ZP,{type:"primary",onClick:function(){return I()},style:{width:"100%"},children:"\u65E5\u5FD7\u67E5\u8BE2"}),(0,r.jsx)(c.ZP,{type:"primary",onClick:function(){return I(1)},style:{width:"100%"},children:"\u5B9E\u65F6\u67E5\u8BE2"}),(0,r.jsx)(c.ZP,{type:"primary",onClick:k,style:{width:"100%"},children:"\u8BB0\u5F55\u65E5\u5FD7"}),(0,r.jsx)(c.ZP,{danger:!0,type:"primary",onClick:U,style:{width:"100%"},children:"\u66F4\u65B0\u5217\u8868"})]})}),(0,r.jsx)(Y.Z,{spinning:w,children:(0,r.jsx)(A.Z,{columns:z,dataSource:j,pagination:{defaultPageSize:20},scroll:{x:!0,y:500}})})]})}}}]);
